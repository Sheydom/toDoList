(()=>{"use strict";var e,t,s,a={417:(e,t,s)=>{s.d(t,{_:()=>r,createUser:()=>n,login:()=>i,r:()=>l});var a=s(959);function i(e,t){const s=(0,a.xI)();return(0,a.x9)(s,e,t)}function n(e,t,s){const i=(0,a.xI)();return(0,a.eJ)(i,e,t).then(e=>{const t=e.user;return(0,a.r7)(t,{displayName:s}).then(()=>e)})}function r(e){const t=(0,a.xI)();(0,a.hg)(t,e)}function l(){const e=(0,a.xI)();return(0,a.CI)(e)}},644:(e,t,s)=>{s.d(t,{db:()=>l,j:()=>d});var a=s(223),i=s(405),n=s(959);const r=(0,a.Wp)({apiKey:"AIzaSyCXV6yVzXzrtH7TuaqW6PQt1GxCoMvImWM",authDomain:"todoapp-96218.firebaseapp.com",projectId:"todoapp-96218",storageBucket:"todoapp-96218.firebasestorage.app",messagingSenderId:"738411019480",appId:"1:738411019480:web:9912e1871877363651ebad",measurementId:"G-6L1BCGY0MS"}),l=(0,i.aU)(r),d=(0,n.xI)(r)},774:(e,t,s)=>{s(644);var a=s(417);s(405);const i=document.querySelector(".h2Header"),n=document.querySelector(".modal"),r=document.querySelector(".loginButton"),l=document.querySelector(".createButton"),d=document.getElementById("email"),o=document.getElementById("password"),c=document.getElementById("name"),u=document.querySelector(".nameDiv"),m=document.querySelector(".message"),h=document.querySelector(".messageText"),p=document.querySelector(".switchCreateButton"),k=document.querySelector(".welcome"),y=document.querySelector(".logoutButton"),f=document.querySelector(".backToLoginButton"),v=document.querySelector("#loginForm"),_=document.querySelector("#resetBtn"),L=document.querySelector(".reset"),b=document.querySelector(".passDiv"),g=document.querySelector("main"),w=document.querySelector(".addTask__button"),T=document.querySelector(".addTask__input"),S=document.querySelector(".tasklist"),q=document.querySelector(".clearAll__button"),E=document.querySelector(".status__counter"),x=document.querySelector(".tasklist__task");async function A(){const e=T.value.trim();if(""===e)return void alert("Please enter a task.");const t=document.querySelectorAll(".calenderInput");let a=null;if(t.length>0){const e=t[0].value;e&&(a=new Date(e))}await async function(e,t){const{addTask:a}=await s.e(707).then(s.bind(s,707));await a(e,t)}(e,a),T.value="",await C(),$()}async function C(){const{loadTask:e}=await s.e(707).then(s.bind(s,707)),t=await e();Array.isArray(t)&&(S.innerHTML="",t.forEach(e=>{const t=document.createElement("div");let s="";e.timestamp?.toDate?s=new Intl.DateTimeFormat("en-AU").format(e.timestamp.toDate()):"string"==typeof e.timestamp&&(s=new Intl.DateTimeFormat("en-AU").format(new Date(e.timestamp)));let a="";if(e.deadline?.toDate){const t=e.deadline.toDate(),s={day:"2-digit",month:"short"},i=new Intl.DateTimeFormat("en-AU",s).format(t),n=new Date;n.setHours(0,0,0,0),t.setHours(0,0,0,0);const r=864e5,l=Math.ceil((t-n)/r);a=l>0?`${l} day${1===l?"":"s"}<br> to ${i}`:0===l?`Today (${i})`:`Overdue <br> by ${Math.abs(l)} day${1===Math.abs(l)?"":"s"}`}else if("string"==typeof e.deadline){const t=new Date(e.deadline),s={day:"2-digit",month:"short"},i=new Intl.DateTimeFormat("en-AU",s).format(t),n=new Date;n.setHours(0,0,0,0),t.setHours(0,0,0,0);const r=864e5,l=Math.ceil((t-n)/r);a=l>0?`${l} day${1===l?"":"s"}<br> to ${i}`:0===l?`Today (${i})`:`Overdue <br> by ${Math.abs(l)} day${1===Math.abs(l)?"":"s"}`}t.classList.add("tasklist__newTask"),t.innerHTML=`\n  <div class="tasklist__all">\n    <input data-id="${e.id}" type="checkbox" name="task" class="tasklist__checkbox" ${e.checked?"checked":""} />\n    <p>${e.text}</p>\n    <span class="tasklist__deadlineDays">\n      <i class="ri-edit-2-line tasklist__edit" title="Edit task text"></i>\n      <span class="tasklist__deadline">created: <br> ${s}</span>\n    </span>\n    <span class="tasklist__deadlineDays">\n      \n      <i class="ri-calendar-schedule-line tasklist__calender" title="Set deadline"></i>\n            <span class="tasklist__deadline">${a}</span>\n    </span>\n    </div>\n    <div class="delete">\n    <span class="tasklist__delete" title="Delete task">\n      <i class="ri-delete-bin-6-line"></i>\n    </span>\n  </div>\n`,S.appendChild(t),I()}))}async function $(){const{loadTask:e}=await s.e(707).then(s.bind(s,707)),t=await e();if(!Array.isArray(t))return E.innerText="0/0",void D();const a=t.length,i=document.querySelectorAll(".tasklist__checkbox"),n=document.querySelectorAll(".tasklist__newTask"),r=Array.from(i).filter(e=>e.checked).length;E.innerText=`${r}/${a}`,D(),a==r&&r>0?(E.classList.add("allChecked"),g.classList.add("mainChecked"),n.forEach(e=>{const t=e.querySelector(".tasklist__all"),s=e.querySelector("p");t.classList.remove("tasklist__oldestTask"),t.classList.add("tasklist__checkedTask"),s.classList.remove("tasklist__oldestTask"),s.classList.add("tasklist__checked")})):(E.classList.remove("allChecked"),g.classList.remove("mainChecked"),n.forEach(e=>{const t=e.querySelector(".tasklist__all");e.querySelector("p").classList.remove("tasklist__checked"),t.classList.remove("tasklist__checkedTask")})),r>0?i.forEach(e=>{if(e.checked){const t=e.closest(".tasklist__newTask"),s=t.querySelector(".tasklist__all"),a=t.querySelector("p");s.classList.remove("tasklist__oldestTask"),s.classList.add("tasklist__checkedTask"),a.classList.remove("tasklist__oldestTask"),a.classList.add("tasklist__checked")}}):(E.classList.remove("allChecked"),g.classList.remove("mainChecked"),n.forEach(e=>{const t=e.querySelector(".tasklist__all");e.querySelector("p").classList.remove("tasklist__checked"),t.classList.remove("tasklist__checkedTask")}))}async function D(){const{loadTask:e}=await s.e(707).then(s.bind(s,707)),t=await e();if(!Array.isArray(t))return;0===t.length?x.classList.add("show"):x.classList.remove("show")}async function I(){const{loadTask:e}=await s.e(707).then(s.bind(s,707)),t=await e();if(!Array.isArray(t)||0===t.length)return;const a=new Date;a.setHours(0,0,0,0),t.forEach(e=>{let t;if(e.deadline?.toDate)t=e.deadline.toDate();else{if("string"!=typeof e.deadline)return;t=new Date(e.deadline)}t.setHours(0,0,0,0);const s=document.querySelector(`input.tasklist__checkbox[data-id="${e.id}"]`)?.closest(".tasklist__newTask")?.querySelector("p");t<=a&&s?(s.classList.add("tasklist__oldestTask"),s.closest(".tasklist__all").classList.add("tasklist__oldestTask")):s&&(s.classList.remove("tasklist__oldestTask"),s.closest(".tasklist__all")?.classList.remove("tasklist__oldestTask"))})}document.addEventListener("DOMContentLoaded",async()=>{await C(),$(),D(),I(),setInterval(I,432e5)}),_.addEventListener("click",()=>{i.innerText="Reset Password",u.classList.add("hidden"),u.required=!1,r.classList.add("hidden"),p.classList.add("hidden"),f.classList.remove("hidden"),L.classList.remove("hidden"),_.classList.add("hidden"),o.classList.add("hidden"),L.setAttribute("type","submit"),o.required=!1,l.classList.add("hidden"),b.classList.add("hidden")}),y.addEventListener("click",async()=>{try{await(0,a.r)(),f.classList.add("hidden"),u.classList.add("hidden"),c.required=!1,r.classList.remove("hidden"),l.classList.add("hidden"),p.classList.remove("hidden"),o.autocomplete="current-password",h.innerText="",m.classList.add("hidden"),i.innerText="Login",L.classList.add("hidden")}catch(e){alert("Logout failed: "+e.message)}}),(0,a._)(async e=>{if(e){console.log("✅ Logged in as:",e.uid),n.classList.add("hidden"),k.innerText=e.displayName?`${e.displayName}'s`:"",m.classList.add("hidden"),h.innerText="",L.classList.add("hidden"),L.setAttribute("type","button"),o.required=!0;try{await C(),D(),$(),I()}catch(e){console.error("❌ Initialization failed:",e.message)}document.querySelector(".app").style.visibility="visible"}else n.classList.remove("hidden"),S.innerHTML="",E.innerText="0/0",document.querySelector(".app").style.visibility="visible"}),f.addEventListener("click",()=>{f.classList.add("hidden"),u.classList.add("hidden"),c.required=!1,r.classList.remove("hidden"),l.classList.add("hidden"),p.classList.remove("hidden"),o.autocomplete="current-password",h.innerText="",m.classList.add("hidden"),i.innerText="Login",L.classList.add("hidden"),_.classList.remove("hidden"),o.classList.remove("hidden"),L.setAttribute("type","button"),o.required=!0,b.classList.remove("hidden")}),r.addEventListener("click",()=>v.requestSubmit()),l.addEventListener("click",()=>v.requestSubmit()),L.addEventListener("click",()=>v.requestSubmit()),v.addEventListener("submit",async e=>{if(e.preventDefault(),r.classList.contains("hidden"))if(l.classList.contains("hidden")||f.classList.contains("hidden")){if(!L.classList.contains("hidden"))try{const e=d.value.trim(),{resetPassword:t}=await s.e(707).then(s.bind(s,707));if(!e)return void alert("Please enter your email address.");await t(e),m.classList.remove("hidden"),h.innerText="Email to reset password sent",m.classList.add("messageGreen")}catch(e){alert("Error: "+e.message)}}else{const{createUser:e}=await Promise.resolve().then(s.bind(s,417)),t=d.value.trim(),a=o.value.trim(),i=c.value.trim();if(""===t||""===a||""===i)return m.classList.remove("hidden"),void(h.innerText="Please fill in all fields");try{const s=(await e(t,a,i)).user;u.classList.remove("hidden"),k.innerText=s.displayName?`${s.displayName}'s`:"Welcome"}catch(e){m.classList.remove("hidden"),h.innerText=`Error: ${e.message}`}}else{const{login:e}=await Promise.resolve().then(s.bind(s,417)),t=d.value.trim(),a=o.value.trim();if(""===t||""===a)return m.classList.remove("hidden"),void(h.innerText="Pleasse fill in all fields");try{const s=(await e(t,a)).user;n.classList.add("hidden"),k.innerText=s.displayName?`${s.displayName}'s`:"Welcome"}catch(e){const t=e.message;m.classList.remove("hidden"),h.innerText=`Login failed: ${t}`}}}),p.addEventListener("click",()=>{u.classList.remove("hidden"),c.required=!0,r.classList.add("hidden"),p.classList.add("hidden"),l.classList.remove("hidden"),f.classList.remove("hidden"),o.autocomplete="new-password",d.autocomplete="",i.innerText="New Account",L.classList.add("hidden"),b.classList.remove("hidden")}),w.addEventListener("click",A),T.addEventListener("keypress",e=>{"Enter"===e.key&&""!==T.value.trim()?A():"Enter"===e.key&&""===T.value.trim()&&alert("Please enter a task.")}),S.addEventListener("click",e=>{if(e.target.closest(".tasklist__edit")){const t=e.target.closest(".tasklist__newTask"),a=t.querySelector("p"),i=a.textContent,n=t.querySelector(".tasklist__checkbox").dataset.id,r=document.createElement("textarea");r.classList.add("edit__input"),r.value=i,r.style.minWidth=`${a.offsetWidth}px`,r.style.height=`${a.offsetHeight}+2px`,a.replaceWith(r),r.focus();let l=!1;async function d(){if(l)return;l=!0;const e=r.value.trim();if(""!==e){const{updateTask:t}=await s.e(707).then(s.bind(s,707));await t(n,{text:e}),await C(),await I(),await $()}else r.replaceWith(a)}r.addEventListener("keydown",e=>{"Enter"===e.key&&d()}),r.addEventListener("blur",()=>d())}}),S.addEventListener("click",async e=>{const t=e.target.closest(".tasklist__calender");if(console.log("test1"),!t)return;let a=t.nextElementSibling;if(a&&a.classList.contains("calenderInput"))a._flatpickr&&a._flatpickr.open();else{a=document.createElement("input"),a.type="text",a.classList.add("calenderInput"),t.after(a);const[{default:e},i]=await Promise.all([Promise.all([s.e(404),s.e(999),s.e(120),s.e(375)]).then(s.bind(s,430)),Promise.all([s.e(404),s.e(999),s.e(120),s.e(375),s.e(162)]).then(s.bind(s,677)),console.log("test2")]),n=e(a,{defaultDate:"today",dateFormat:"d/m/Y",disableMobile:!0,onChange:async e=>{const a=e[0],i=t.closest(".tasklist__newTask"),n=i?.querySelector(".tasklist__checkbox")?.dataset.id;if(n&&a){const{updateTask:e}=await s.e(707).then(s.bind(s,707));await e(n,{deadline:a}),await C(),await I()}},onClose:()=>{n.input.remove()}});n.open()}}),S.addEventListener("click",e=>{if(e.target.closest(".tasklist__delete")){!async function(e){const{deleteTask:t}=await s.e(707).then(s.bind(s,707));await t(e),$(),I()}(e.target.closest(".tasklist__newTask").querySelector(".tasklist__checkbox").dataset.id),C(),$()}}),S.addEventListener("change",e=>{if(e.target.classList.contains("tasklist__checkbox")){!async function(e,t){const{updateTask:a}=await s.e(707).then(s.bind(s,707));await a(e,{checked:t})}(e.target.closest(".tasklist__newTask").querySelector(".tasklist__checkbox").dataset.id,e.target.checked),$(),I()}}),q.addEventListener("click",()=>{!async function(){const{clearTasks:e}=await s.e(707).then(s.bind(s,707));await e(),document.querySelectorAll(".tasklist__newTask").forEach(e=>e.remove()),$(),D()}(),$()})}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var s=i[e]={exports:{}};return a[e](s,s.exports,n),s.exports}n.m=a,e=[],n.O=(t,s,a,i)=>{if(!s){var r=1/0;for(c=0;c<e.length;c++){for(var[s,a,i]=e[c],l=!0,d=0;d<s.length;d++)(!1&i||r>=i)&&Object.keys(n.O).every(e=>n.O[e](s[d]))?s.splice(d--,1):(l=!1,i<r&&(r=i));if(l){e.splice(c--,1);var o=a();void 0!==o&&(t=o)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,a,i]},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,s)=>(n.f[s](e,t),t),[])),n.u=e=>e+".js",n.miniCssF=e=>e+".styles.css",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},s="filestructure_template:",n.l=(e,a,i,r)=>{if(t[e])t[e].push(a);else{var l,d;if(void 0!==i)for(var o=document.getElementsByTagName("script"),c=0;c<o.length;c++){var u=o[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==s+i){l=u;break}}l||(d=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",s+i),l.src=e),t[e]=[a];var m=(s,a)=>{l.onerror=l.onload=null,clearTimeout(h);var i=t[e];if(delete t[e],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach(e=>e(a)),s)return s(a)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),d&&document.head.appendChild(l)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var a=s.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=s[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{if("undefined"!=typeof document){var e=e=>new Promise((t,s)=>{var a=n.miniCssF(e),i=n.p+a;if(((e,t)=>{for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var i=(r=s[a]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var n=document.getElementsByTagName("style");for(a=0;a<n.length;a++){var r;if((i=(r=n[a]).getAttribute("data-href"))===e||i===t)return r}})(a,i))return t();((e,t,s,a,i)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",n.nc&&(r.nonce=n.nc),r.onerror=r.onload=s=>{if(r.onerror=r.onload=null,"load"===s.type)a();else{var n=s&&s.type,l=s&&s.target&&s.target.href||t,d=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+l+")");d.name="ChunkLoadError",d.code="CSS_CHUNK_LOAD_FAILED",d.type=n,d.request=l,r.parentNode&&r.parentNode.removeChild(r),i(d)}},r.href=t,s?s.parentNode.insertBefore(r,s.nextSibling):document.head.appendChild(r)})(e,i,null,t,s)}),t={792:0};n.f.miniCss=(s,a)=>{t[s]?a.push(t[s]):0!==t[s]&&{162:1}[s]&&a.push(t[s]=e(s).then(()=>{t[s]=0},e=>{throw delete t[s],e}))}}})(),(()=>{var e={792:0};n.f.j=(t,s)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)s.push(a[2]);else if(162!=t){var i=new Promise((s,i)=>a=e[t]=[s,i]);s.push(a[2]=i);var r=n.p+n.u(t),l=new Error;n.l(r,s=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",l.name="ChunkLoadError",l.type=i,l.request=r,a[1](l)}},"chunk-"+t,t)}else e[t]=0},n.O.j=t=>0===e[t];var t=(t,s)=>{var a,i,[r,l,d]=s,o=0;if(r.some(t=>0!==e[t])){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(d)var c=d(n)}for(t&&t(s);o<r.length;o++)i=r[o],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},s=self.webpackChunkfilestructure_template=self.webpackChunkfilestructure_template||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var r=n.O(void 0,[404,999,120,375],()=>n(774));r=n.O(r)})();
//# sourceMappingURL=main.js.map