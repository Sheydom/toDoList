(()=>{"use strict";var e,t,s,a={417:(e,t,s)=>{s.d(t,{_:()=>n,createUser:()=>r,login:()=>i,r:()=>c});var a=s(959);function i(e,t){const s=(0,a.xI)();return(0,a.x9)(s,e,t)}function r(e,t,s){const i=(0,a.xI)();return(0,a.eJ)(i,e,t).then(e=>{const t=e.user;return(0,a.r7)(t,{displayName:s}).then(()=>e)})}function n(e){const t=(0,a.xI)();(0,a.hg)(t,e)}function c(){const e=(0,a.xI)();return(0,a.CI)(e)}},644:(e,t,s)=>{s.d(t,{db:()=>c,j:()=>d});var a=s(223),i=s(405),r=s(959);const n=(0,a.Wp)({apiKey:"AIzaSyCXV6yVzXzrtH7TuaqW6PQt1GxCoMvImWM",authDomain:"todoapp-96218.firebaseapp.com",projectId:"todoapp-96218",storageBucket:"todoapp-96218.firebasestorage.app",messagingSenderId:"738411019480",appId:"1:738411019480:web:9a283e6b604dc19251ebad",measurementId:"G-NWN6Z0EM08"}),c=(0,i.aU)(n),d=(0,r.xI)(n)},774:(e,t,s)=>{s(644);var a=s(417);const i=document.querySelector(".h2Header"),r=document.querySelector(".modal"),n=document.querySelector(".loginButton"),c=document.querySelector(".createButton"),d=document.getElementById("email"),l=document.getElementById("password"),o=document.getElementById("name"),u=document.querySelector(".nameDiv"),m=document.querySelector(".message"),h=document.querySelector(".messageText"),k=document.querySelector(".switchCreateButton"),p=document.querySelector(".welcome"),v=document.querySelector(".logoutButton"),y=document.querySelector(".backToLoginButton"),_=document.querySelector("#loginForm"),L=document.querySelector("#resetBtn"),f=document.querySelector(".reset");L.addEventListener("click",()=>{i.innerText="Reset Password",u.classList.add("hidden"),u.required=!1,n.classList.add("hidden"),k.classList.add("hidden"),y.classList.remove("hidden"),f.classList.remove("hidden"),L.classList.add("hidden"),l.classList.add("hidden"),f.setAttribute("type","submit"),l.required=!1}),v.addEventListener("click",async()=>{try{await(0,a.r)(),y.classList.add("hidden"),u.classList.add("hidden"),o.required=!1,n.classList.remove("hidden"),c.classList.add("hidden"),k.classList.remove("hidden"),l.autocomplete="current-password",h.innerText="",m.classList.add("hidden"),i.innerText="Login",f.classList.add("hidden")}catch(e){alert("Logout failed: "+e.message)}}),(0,a._)(async e=>{e?(r.classList.add("hidden"),p.innerText=e.displayName?`${e.displayName}'s`:"",m.classList.add("hidden"),h.innerText="",f.classList.add("hidden"),f.setAttribute("type","button"),l.required=!0,await $(),P(),N(),O()):(r.classList.remove("hidden"),T.innerHTML="",q.innerText="0/0")}),y.addEventListener("click",()=>{y.classList.add("hidden"),u.classList.add("hidden"),o.required=!1,n.classList.remove("hidden"),c.classList.add("hidden"),k.classList.remove("hidden"),l.autocomplete="current-password",h.innerText="",m.classList.add("hidden"),i.innerText="Login",f.classList.add("hidden"),L.classList.remove("hidden"),l.classList.remove("hidden"),f.setAttribute("type","button"),l.required=!0}),_.addEventListener("submit",async e=>{if(e.preventDefault(),n.classList.contains("hidden"))if(c.classList.contains("hidden")||y.classList.contains("hidden")){if(!f.classList.contains("hidden"))try{const e=d.value.trim(),{resetPassword:t}=await s.e(707).then(s.bind(s,707));if(!e)return void alert("Please enter your email address.");await t(e),m.classList.remove("hidden"),h.innerText="Email to reset password sent",m.classList.add("messageGreen")}catch(e){alert("Error: "+e.message)}}else{const{createUser:e}=await Promise.resolve().then(s.bind(s,417)),t=d.value.trim(),a=l.value.trim(),i=o.value.trim();if(""===t||""===a||""===i)return m.classList.remove("hidden"),void(h.innerText="Please fill in all fields");try{const s=(await e(t,a,i)).user;u.classList.remove("hidden"),p.innerText=s.displayName?`${s.displayName}'s`:"Welcome"}catch(e){m.classList.remove("hidden"),h.innerText=`Error: ${e.message}`}}else{const{login:e}=await Promise.resolve().then(s.bind(s,417)),t=d.value.trim(),a=l.value.trim();if(""===t||""===a)return m.classList.remove("hidden"),void(h.innerText="Pleasse fill in all fields");try{const s=(await e(t,a)).user;r.classList.add("hidden"),p.innerText=s.displayName?`${s.displayName}'s`:"Welcome"}catch(e){const t=e.message;m.classList.remove("hidden"),h.innerText=`Login failed: ${t}`}}}),k.addEventListener("click",()=>{u.classList.remove("hidden"),o.required=!0,n.classList.add("hidden"),k.classList.add("hidden"),c.classList.remove("hidden"),y.classList.remove("hidden"),l.autocomplete="new-password",d.autocomplete="",i.innerText="New Account",f.classList.add("hidden")});const w=document.querySelector("main"),g=document.querySelector(".addTask__button"),b=document.querySelector(".addTask__input"),T=document.querySelector(".tasklist"),S=document.querySelector(".clearAll__button"),q=document.querySelector(".status__counter"),x=document.querySelector(".tasklist__task"),E=document.querySelector(".reminderSlider__sliderInput"),A=document.querySelector(".rangeValue");let C=E.value;async function I(){const e=b.value.trim();""!==e?(await async function(e){const{addTask:t}=await s.e(707).then(s.bind(s,707));await t(e)}(e),b.value="",await $(),P()):alert("Please enter a task.")}async function $(){const{loadTask:e}=await s.e(707).then(s.bind(s,707)),t=await e();Array.isArray(t)&&(T.innerHTML="",t.forEach(e=>{const t=document.createElement("div"),s=e.timestamp,a=new Date(s).toLocaleDateString();t.classList.add("tasklist__newTask"),t.innerHTML=`\n  <div class="tasklist__all">\n    <input data-id="${e.id}" type="checkbox" name="task" class="tasklist__checkbox" ${e.checked?"checked":""} />\n    <p>${e.text}</p>\n    \n    <span ><span class="tasklist__timestamp">${a}</span><i class="ri-edit-2-line tasklist__edit"></i></span></div>\n         <div class="delete"><span class="tasklist__delete"> <i class="ri-delete-bin-6-line "></i></span></div>\n\n    `,T.appendChild(t)}))}async function P(){const{loadTask:e}=await s.e(707).then(s.bind(s,707)),t=await e();if(!Array.isArray(t))return q.innerText="0/0",void N();const a=t.length,i=document.querySelectorAll(".tasklist__checkbox"),r=document.querySelectorAll(".tasklist__newTask"),n=Array.from(i).filter(e=>e.checked).length;q.innerText=`${n}/${a}`,N(),a==n&&n>0?(q.classList.add("allChecked"),w.classList.add("mainChecked"),r.forEach(e=>{const t=e.querySelector(".tasklist__all"),s=e.querySelector("p");t.classList.remove("tasklist__oldestTask"),t.classList.add("tasklist__checkedTask"),s.classList.remove("tasklist__oldestTask"),s.classList.add("tasklist__checked")})):(q.classList.remove("allChecked"),w.classList.remove("mainChecked"),r.forEach(e=>{const t=e.querySelector(".tasklist__all");e.querySelector("p").classList.remove("tasklist__checked"),t.classList.remove("tasklist__checkedTask")})),n>0?i.forEach(e=>{if(e.checked){const t=e.closest(".tasklist__newTask"),s=t.querySelector(".tasklist__all"),a=t.querySelector("p");s.classList.remove("tasklist__oldestTask"),s.classList.add("tasklist__checkedTask"),a.classList.remove("tasklist__oldestTask"),a.classList.add("tasklist__checked")}}):(q.classList.remove("allChecked"),w.classList.remove("mainChecked"),r.forEach(e=>{const t=e.querySelector(".tasklist__all");e.querySelector("p").classList.remove("tasklist__checked"),t.classList.remove("tasklist__checkedTask")}))}async function N(){const{loadTask:e}=await s.e(707).then(s.bind(s,707)),t=await e();if(!Array.isArray(t))return;0===t.length?x.classList.add("show"):x.classList.remove("show")}async function O(){const{loadTask:e}=await s.e(707).then(s.bind(s,707)),t=await e();Array.isArray(t)&&0!==t.length&&t.forEach(e=>{const t=new Date,s=new Date(e.timestamp),a=Math.abs(t-s),i=Math.floor(a/864e5),r=document.querySelector(`input.tasklist__checkbox[data-id="${e.id}"]`)?.closest(".tasklist__newTask")?.querySelector("p");i>=C?r&&(r.classList.add("tasklist__oldestTask"),r.closest(".tasklist__all").classList.add("tasklist__oldestTask")):r&&(r.classList.remove("tasklist__oldestTask"),r.closest(".tasklist__all")?.classList.remove("tasklist__oldestTask"))})}document.addEventListener("DOMContentLoaded",async()=>{await $(),P(),N(),function(){const e=localStorage.getItem("sliderValue");e&&(E.value=e,A.innerText=e>1?`in ${e} days`:`in ${e} day`,C=parseInt(e,10))}(),O(),setInterval(O,432e5)}),E.addEventListener("input",()=>{C=E.value,A.innerText=C>1?`in ${C} days`:`in ${C} day`,function(e){localStorage.setItem("sliderValue",e)}(C),O()}),g.addEventListener("click",I),b.addEventListener("keypress",e=>{"Enter"===e.key&&""!==b.value.trim()?I():"Enter"===e.key&&""===b.value.trim()&&alert("Please enter a task.")}),T.addEventListener("click",e=>{if(e.target.closest(".tasklist__edit")){const t=e.target.closest(".tasklist__newTask"),a=t.querySelector("p"),i=a.textContent,r=t.querySelector(".tasklist__checkbox").dataset.id,n=document.createElement("input");n.type="text",n.value=i,n.classList.add("edit__input"),a.replaceWith(n),n.focus(),n.addEventListener("keypress",async e=>{if("Enter"===e.key){const e=n.value.trim();if(""!==e){const{updateTask:t}=await s.e(707).then(s.bind(s,707));await t(r,{text:e}),await $(),await P()}else n.replaceWith(a)}}),n.addEventListener("blur",()=>{n.replaceWith(a)})}}),T.addEventListener("click",e=>{if(e.target.closest(".tasklist__delete")){!async function(e){const{deleteTask:t}=await s.e(707).then(s.bind(s,707));await t(e),P()}(e.target.closest(".tasklist__newTask").querySelector(".tasklist__checkbox").dataset.id),P()}}),T.addEventListener("change",e=>{if(e.target.classList.contains("tasklist__checkbox")){!async function(e,t){const{updateTask:a}=await s.e(707).then(s.bind(s,707));await a(e,{checked:t})}(e.target.closest(".tasklist__newTask").querySelector(".tasklist__checkbox").dataset.id,e.target.checked),P(),O()}}),S.addEventListener("click",()=>{!async function(){const{clearTasks:e}=await s.e(707).then(s.bind(s,707));await e(),document.querySelectorAll(".tasklist__newTask").forEach(e=>e.remove()),P(),N()}(),P()})}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var s=i[e]={exports:{}};return a[e](s,s.exports,r),s.exports}r.m=a,e=[],r.O=(t,s,a,i)=>{if(!s){var n=1/0;for(o=0;o<e.length;o++){for(var[s,a,i]=e[o],c=!0,d=0;d<s.length;d++)(!1&i||n>=i)&&Object.keys(r.O).every(e=>r.O[e](s[d]))?s.splice(d--,1):(c=!1,i<n&&(n=i));if(c){e.splice(o--,1);var l=a();void 0!==l&&(t=l)}}return t}i=i||0;for(var o=e.length;o>0&&e[o-1][2]>i;o--)e[o]=e[o-1];e[o]=[s,a,i]},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,s)=>(r.f[s](e,t),t),[])),r.u=e=>e+".js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},s="filestructure_template:",r.l=(e,a,i,n)=>{if(t[e])t[e].push(a);else{var c,d;if(void 0!==i)for(var l=document.getElementsByTagName("script"),o=0;o<l.length;o++){var u=l[o];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==s+i){c=u;break}}c||(d=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.setAttribute("data-webpack",s+i),c.src=e),t[e]=[a];var m=(s,a)=>{c.onerror=c.onload=null,clearTimeout(h);var i=t[e];if(delete t[e],c.parentNode&&c.parentNode.removeChild(c),i&&i.forEach(e=>e(a)),s)return s(a)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=m.bind(null,c.onerror),c.onload=m.bind(null,c.onload),d&&document.head.appendChild(c)}},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var a=s.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=s[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={792:0};r.f.j=(t,s)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)s.push(a[2]);else{var i=new Promise((s,i)=>a=e[t]=[s,i]);s.push(a[2]=i);var n=r.p+r.u(t),c=new Error;r.l(n,s=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",c.name="ChunkLoadError",c.type=i,c.request=n,a[1](c)}},"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,s)=>{var a,i,[n,c,d]=s,l=0;if(n.some(t=>0!==e[t])){for(a in c)r.o(c,a)&&(r.m[a]=c[a]);if(d)var o=d(r)}for(t&&t(s);l<n.length;l++)i=n[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(o)},s=self.webpackChunkfilestructure_template=self.webpackChunkfilestructure_template||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=r.O(void 0,[375,999,120],()=>r(774));n=r.O(n)})();
//# sourceMappingURL=main.js.map